{% extends "rps/layout.html" %}
{% block head %}
    <script src="https://use.fontawesome.com/d2b46f845b.js"></script>
{% endblock %}
{% block content %}
<div class="d-flex align-items-center row w-100 h-100">
    <div style="height: auto;" class="d-flex justify-content-center pt-4">
        <img style="max-height: 15rem; height: auto; width: auto;" src="{{ url_for('rps.static', filename='icon.png') }}" alt="game">
    </div>
    <span class="text-center fw-light fs-1">Hey, {{ session['nickname'] }}
        <i onclick="window.open('{{ url_for('rps.logout') }}', '_self')" style="cursor: pointer" class="fas fa-arrow-right-from-bracket">
        </i>
    </span>
    <p class="text-center fw-light fs-1 mb-0">Your score: {{ session['score'] }}</p>
    {% if context['pc_choice'] %}
        <p class="text-center fw-light fs-2">PC choice:</p>
        <div class="d-flex justify-content-center">
        <i style="pointer-events: none"
           class="text-center icon-option fa fa-hand-{{ context['pc_choice'] }}-o
            {% if context['winner'] == 'pc' %}
                winner
            {% elif context['winner'] == 'user' %}
                loser
            {% endif %}" aria-hidden="true">
        </i>
        </div>
        <p class="text-center fw-light fs-2">Your choice:</p>
    {% endif %}
    <div class="d-flex justify-content-center">
        <div class="pe-3">
            <i onclick="window.open({{'"' + url_for('rps.game') + '?choice=rock' + '"' }}, '_self')" data-mdb-ripple-color="dark"
               class="btn-light icon-option fa fa-hand-rock-o
                {% if context['winner'] == 'user' and context['user_choice'] == 'rock' %}
                     winner
                {% elif context['winner'] == 'pc' and context['user_choice'] == 'rock' %}
                     loser
                {% endif %}" aria-hidden="true">
            </i>
        </div>
        <div class="pe-3">
            <i onclick="window.open({{'"' + url_for('rps.game') + '?choice=paper' + '"' }}, '_self')" data-mdb-ripple-color="dark"
               class="btn-light icon-option fa fa-hand-paper-o
                {% if context['winner'] == 'user' and context['user_choice'] == 'paper' %}
                     winner
                {% elif context['winner'] == 'pc' and context['user_choice'] == 'paper' %}
                     loser
                {% endif %}" aria-hidden="true">
            </i>
        </div>
        <div class="pe-3">
            <i onclick="window.open({{'"' + url_for('rps.game') + '?choice=scissors' + '"' }}, '_self')" data-mdb-ripple-color="dark"
               class="btn-light icon-option fa fa-hand-scissors-o
                {% if context['winner'] == 'user' and context['user_choice'] == 'scissors' %}
                    winner
                {% elif context['winner'] == 'pc' and context['user_choice'] == 'scissors' %}
                    loser
                {% endif %}" aria-hidden="true">
            </i>
        </div>
    </div>
        <!--
            <div class="position-relative" style="margin-left: 10%; display: flex; width: 120%">
                <p style="margin-right: 1%" class="fw-light fs-1">Hey, {{ session['nickname'] }}!</p>
                <img onclick="window.open('{{ url_for('rps.logout') }}', '_self')" style="width: 3%; height: 3%; margin-top: 2%; cursor: pointer;" src="{{ url_for('rps.static', filename='logout.png') }}">
            </div>
            <p style="margin-left: 10%;" class="position-relative fw-light fs-1">Your score: {{ session['score'] }}</p>
            {% if context['pc_choice'] %}
                <p style="margin-left: 10%;" class="position-relative fw-light fs-1">PC choice:</p>
                <i style="margin-left: 18%; pointer-events: none" data-option="{{ context['pc_choice'] }}" class="position-relative icon-option fa fa-hand-{{ context['pc_choice'] }}-o {% if context['winner'] == 'pc' %} {{ 'winner' }} {% elif context['winner'] == 'user' %} {{ 'loser' }} {% endif %}" aria-hidden="true"></i><br>
                <p style="margin-left: 10%;" class="position-relative fw-light fs-1">Your choice:</p>
            {% endif %}
            <div class="choices">
                <i onclick="run({{'"' + url_for('rps.game') + '?choice=rock' + '"' }})" data-option="rock" class="position-relative icon-option fa fa-hand-rock-o {% if context['winner'] == 'user' and context['user_choice'] == 'rock' %} {{ 'winner' }} {% elif context['winner'] == 'pc' and context['user_choice'] == 'rock' %} {{ 'loser' }}{% endif %}" aria-hidden="true"></i>
                <i onclick="run({{'"' + url_for('rps.game') + '?choice=paper' + '"' }})" data-option="paper" class="position-relative icon-option fa fa-hand-paper-o {% if context['winner'] == 'user' and context['user_choice'] == 'paper' %} {{ 'winner' }} {% elif context['winner'] == 'pc' and context['user_choice'] == 'paper' %} {{ 'loser' }}{% endif %}" aria-hidden="true"></i>
                <i onclick="run({{'"' + url_for('rps.game') + '?choice=scissors' + '"' }})" data-option="scissors" class="icon-option fa fa-hand-scissors-o {% if context['winner'] == 'user' and context['user_choice'] == 'scissors' %} {{ 'winner' }} {% elif context['winner'] == 'pc' and context['user_choice'] == 'scissors' %} {{ 'loser' }}{% endif %}" aria-hidden="true"></i>
            </div>
        </div>
        {% if context['pc_choice'] %}
            <div class="position-fixed bottom-0 end-0 p-3"  data-bs-delay="2000" style="z-index: 11">
                <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <strong class="me-auto">System</strong>
                        <small>now</small>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                    {{ context['message'] }}
                    </div>
                </div>
            </div>
            <script>
                toastLiveExample = document.getElementById('liveToast');
                var toast = new bootstrap.Toast(toastLiveExample);
                toast.show();
            </script>
        {% endif %}
        <div aria-live="polite" aria-atomic="true" class="position-relative">
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" id="wait1">
      <div class="toast-header">
        <strong class="me-auto">System</strong>
        <small class="text-muted">now</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        3...
      </div>
    </div>
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" id="wait2">
      <div class="toast-header">
        <strong class="me-auto">System</strong>
        <small class="text-muted">1 seconds ago</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        2...
      </div>
    </div>
          <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" id="wait3">
      <div class="toast-header">
        <strong class="me-auto">System</strong>
        <small class="text-muted">2 seconds ago</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        1...
      </div>
    </div>
  </div>
  -->
</div>
{% endblock %}
